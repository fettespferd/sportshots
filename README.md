# SportShots - Professionelle Plattform fÃ¼r Sportfotografie

Eine moderne, Multi-Rollen-Plattform fÃ¼r Sportfotografen, Event-Veranstalter und Athleten. Fotografen kÃ¶nnen Events erstellen, Fotos hochladen und verkaufen. Athleten finden ihre Fotos Ã¼ber intelligente Suchfunktionen und kaufen sie direkt Ã¼ber die Plattform.

---

## ğŸ¯ Zielgruppen & AnwendungsfÃ¤lle

### ğŸ‘¥ PrimÃ¤re Zielgruppen

#### 1. **Professionelle Sportfotografen**
- Fotografen, die regelmÃ¤ÃŸig bei Sportevents fotografieren
- Freiberufler, die ihr Portfolio prÃ¤sentieren und Fotos verkaufen mÃ¶chten
- Agenturen mit mehreren Fotografen im Team
- **Nutzen**: Automatisierte Verkaufsprozesse, professionelles Portfolio, direkte Auszahlungen

#### 2. **Surf- & Ski-Schulen**
- Schulen, die Event-Fotos fÃ¼r ihre Teilnehmer anbieten
- Branding-MÃ¶glichkeiten durch individuelle Profile
- Einfache QR-Code-Verlinkung fÃ¼r schnellen Zugang
- **Nutzen**: ZusÃ¤tzliche Einnahmequelle, Marketing-Tool, Kundenbindung

#### 3. **Event-Veranstalter**
- Marathon-, Triathlon- und Lauf-Veranstalter
- CrossFit- und Hyrox-Events
- Radsport-Veranstaltungen
- Ski- und Wintersport-Events
- **Nutzen**: Foto-Service fÃ¼r Teilnehmer, zusÃ¤tzliche Revenue-Quelle

#### 4. **Athleten & Sportbegeisterte**
- Teilnehmer an Sportevents (LÃ¤ufer, Triathleten, etc.)
- Hobby-Sportler, die professionelle Fotos ihrer Leistung suchen
- Eltern von jungen Athleten
- **Nutzen**: Einfache Foto-Suche, sichere Bezahlung, sofortiger Download

#### 5. **Team-Accounts & Organisationen**
- Sportvereine mit mehreren Fotografen
- Foto-Agenturen mit Team-Struktur
- GroÃŸe Event-Veranstalter mit eigenem Branding
- **Nutzen**: Zentrale Verwaltung, einheitliches Branding, Team-Kollaboration

### ğŸ’¼ Business Cases

#### **B2C: Direktverkauf an Athleten**
- Einzelpersonen kaufen ihre Sportfotos direkt
- Durchschnittspreis: 5-15â‚¬ pro Foto
- Paketangebote fÃ¼r Mehrfach-KÃ¤ufe

#### **B2B: Event-Fotografie-Service**
- Fotografen bieten ihre Services Ã¼ber die Plattform an
- Event-Veranstalter engagieren Fotografen
- White-Label-MÃ¶glichkeiten fÃ¼r groÃŸe Events

#### **B2B2C: Schulen & Vereine**
- Surf-/Ski-Schulen bieten Fotos als Zusatzservice
- Vereine dokumentieren ihre Events
- Automatische Vermarktung Ã¼ber QR-Codes und Links

---

## ğŸ¯ Features

### FÃ¼r Athleten & Endkunden

#### ğŸ” **Intelligente Foto-Suche**
- **Event-Suche**: Finde Events nach Datum, Ort, Name oder Fotograf
- **Startnummer-Filterung**: Filtere sofort nach deiner Startnummer
- **Datum/Zeit-Filter**: Finde Fotos nach Aufnahmezeitpunkt
- **Gesichtserkennung (Selfie-Suche)**: Lade ein Selfie hoch und finde automatisch alle deine Fotos
- **Fotografen-Suche**: Durchsuche Profile von Fotografen und Teams

#### ğŸ“¸ **Moderne Foto-Galerie**
- Wasserzeichen-Vorschau zum Schutz der Fotografen
- Lightbox-Ansicht mit Zoom-FunktionalitÃ¤t (auch auf Mobile)
- Bild-Rotation fÃ¼r optimal gedrehte Fotos
- Warenkorb-System mit visueller Nummerierung
- Responsive Design fÃ¼r alle GerÃ¤te

#### ğŸ’³ **Sicherer Kaufprozess**
- Stripe Checkout Integration
- Einzelfoto-Kauf oder Pakete
- Gastkauf ohne Registrierung (nur E-Mail)
- Sofortiger Download nach Zahlung
- E-Mail mit Download-Link
- Bestellverwaltung fÃ¼r registrierte Nutzer

#### ğŸ“± **Sharing & Social**
- Web Share API Integration
- Event-Links teilen
- Einzelne Fotos teilen
- QR-Code Zugang zu Events
- Mobile-optimierte Erfahrung

---

### FÃ¼r Fotografen & Content Creator

#### ğŸ“Š **Event-Management**
- Erstelle und verwalte unbegrenzt viele Events
- Verschiedene Event-Typen (Running, Cycling, Skiing, Surfing, Triathlon, CrossFit, Hyrox, uvm.)
- Flexible Preisgestaltung (Einzelpreise + Paketangebote)
- Cover-Bilder fÃ¼r professionelle PrÃ¤sentation
- Automatische URL-Generierung (SEO-optimiert)

#### ğŸ–¼ï¸ **Professionelle Bildverwaltung**
- **Multi-Upload**: Lade mehrere Fotos gleichzeitig hoch
- **Automatische Wasserzeichen-Generierung**: Schutz deiner Arbeit
- **OCR-Erkennung**: Startnummern werden automatisch erkannt
- **Bild-Rotation**: Drehe Fotos links/rechts direkt in der Plattform
- **Batch-Operationen**: Mehrere Fotos gleichzeitig lÃ¶schen
- **Drag & Drop**: Bilder per Drag & Drop neu sortieren
- **Lazy Loading**: Optimierte Performance fÃ¼r groÃŸe Galerien

#### ğŸ‘¤ **Ã–ffentliches Profil & Portfolio**
- Eigene URL: `sportshots.com/dein-name`
- QR-Code fÃ¼r einfachen Zugang
- Portfolio-Galerie (bis zu 10 Beispielbilder)
- Professionelles Branding mit Logo
- Event-Ãœbersicht auf Profilseite
- Shareable Links fÃ¼r Social Media

#### ğŸ’° **Verkauf & Auszahlung**
- **Stripe Connect Integration**: VerknÃ¼pfe dein Bankkonto
- **Automatische Auszahlungen**: Geld geht direkt auf dein Konto
- **Verkaufsstatistiken**: Dashboard mit Umsatz und Verkaufszahlen
- **Analytics**: Detaillierte Charts (Recharts) mit Insights
- **Sales-Ãœbersicht**: Siehe alle VerkÃ¤ufe mit KÃ¤ufer-E-Mail
- **Transparente Provisionen**: Plattform-Fee wird automatisch abgezogen

#### ğŸ“§ **Automatisierung & Benachrichtigungen**
- E-Mail bei VerkÃ¤ufen
- Download-Links automatisch an KÃ¤ufer
- Stripe Connect Onboarding-Erinnerungen

---

### FÃ¼r Teams & Organisationen

#### ğŸ‘¥ **Team-Accounts**
- Erstelle ein Team-Profil
- Lade mehrere Fotografen ein (Sub-Accounts)
- Alle Events erscheinen automatisch auf Team-Seite
- Einheitliches Branding (Team-Logo)
- Zentrale Team-Verwaltung

#### ğŸ¨ **Custom Branding**
- Team-Logo Upload
- Individuelle Profilseiten
- QR-Codes fÃ¼r Events
- Professional Appearance

#### ğŸ”— **Team-Collaboration**
- Fotografen-Einladungen per E-Mail
- Team-Member kÃ¶nnen akzeptieren/ablehnen
- Jeder Fotograf behÃ¤lt seine eigenen Events
- Shared Visibility auf Team-Seite

---

### FÃ¼r Admins & Plattform-Betreiber

#### ğŸ›¡ï¸ **Plattform-Verwaltung**
- Fotografen-Freischaltung & Genehmigung
- Account-Aktivierung/Sperrung
- Plattform-weite Analytics
- Umsatz-Ãœbersicht

#### ğŸ“ˆ **Revenue Management**
- Provisionsverwaltung (Standard: 15%)
- Plattform-Einnahmen Dashboard
- Fotografen-Auszahlungen Ãœbersicht
- Transaktions-Historie

#### ğŸ“§ **Kommunikation**
- Automatische E-Mail-Benachrichtigungen
- Account-Status Updates
- Fotografen-Freischaltungen

---

## ğŸ› ï¸ Tech Stack

### Frontend
- **Framework**: Next.js 16 (App Router) mit React 19
- **Styling**: Tailwind CSS 4
- **TypeScript**: VollstÃ¤ndig typsicher
- **Komponenten**: Custom UI Components + Radix UI
- **Drag & Drop**: @dnd-kit
- **Charts**: Recharts

### Backend & Services
- **Backend**: Supabase (Auth, Database, Storage, RLS)
- **Payments**: Stripe Connect (Fotografen-Auszahlungen)
- **AI/ML**: AWS Rekognition (OCR & Gesichtserkennung)
- **Bildverarbeitung**: Sharp (Wasserzeichen, Thumbnails)
- **E-Mail**: Resend (Transaktions-E-Mails)

### Security & Performance
- Row Level Security (RLS) auf allen Tabellen
- JWT-basierte Authentifizierung
- Image Optimization
- Lazy Loading
- CDN via Supabase Storage

---

## ğŸ“‹ Voraussetzungen

- **Node.js** 20+ und npm
- **Supabase Account** (kostenlos verfÃ¼gbar)
- **Stripe Account** (fÃ¼r Zahlungen & Fotografen-Auszahlungen)
- **AWS Account** (fÃ¼r OCR & Gesichtserkennung)
- **Resend Account** (fÃ¼r E-Mail-Benachrichtigungen)

---

## ğŸš€ Installation & Setup

### 1. Repository klonen

```bash
git clone <repository-url>
cd sportshots
npm install
```

### 2. Supabase Projekt erstellen

1. Gehe zu [supabase.com](https://supabase.com) und erstelle ein neues Projekt
2. Warte, bis das Projekt fertig eingerichtet ist (ca. 2 Minuten)
3. Gehe zu **Settings** â†’ **API**
4. Kopiere die `Project URL` und den `anon public` Key

### 3. Umgebungsvariablen einrichten

Erstelle eine `.env.local` Datei im Root-Verzeichnis:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
PLATFORM_FEE_PERCENTAGE=15

# Stripe (Required)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# AWS Rekognition (Required for OCR & Face Recognition)
# âš ï¸ WICHTIG: Siehe AWS_SETUP.md fÃ¼r detaillierte Einrichtungsanleitung!
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=eu-central-1

# Resend (Required for email)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@yourdomain.com
```

### 4. Datenbank-Migrationen ausfÃ¼hren

1. Ã–ffne dein Supabase Projekt
2. Gehe zu **SQL Editor**
3. Erstelle ein neues Query
4. Kopiere den Inhalt von `src/supabase/migrations/20250101000000_initial_schema.sql`
5. FÃ¼hre die Migration aus
6. Wiederhole fÃ¼r alle weiteren Migrations-Dateien in chronologischer Reihenfolge

### 5. Ersten Admin-User erstellen

Nach dem ersten Signup kannst du einen User zum Admin machen:

1. Gehe zu **Supabase Dashboard** â†’ **Table Editor** â†’ **profiles**
2. Finde deinen User und Ã¤ndere:
   - `role` â†’ `admin`
3. Speichern

### 6. Development Server starten

```bash
npm run dev
```

Ã–ffne [http://localhost:3000](http://localhost:3000) im Browser.

---

## ğŸ“ Projektstruktur

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/              # Auth-Seiten (Login, Signup, Callback)
â”‚   â”œâ”€â”€ (dashboard)/         # GeschÃ¼tzte Dashboard-Seiten
â”‚   â”‚   â”œâ”€â”€ photographer/    # Fotografen-Dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ events/      # Event-Management
â”‚   â”‚   â”‚   â”œâ”€â”€ sales/       # Verkaufs-Ãœbersicht
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/    # Profil & Team-Einstellungen
â”‚   â”‚   â”‚   â””â”€â”€ team/        # Team-Verwaltung
â”‚   â”‚   â”œâ”€â”€ admin/           # Admin-Dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ photographers/ # Fotografen-Freischaltung
â”‚   â”‚   â”‚   â””â”€â”€ revenue/     # Umsatz-Ãœbersicht
â”‚   â”‚   â””â”€â”€ orders/          # User-Bestellungen
â”‚   â”œâ”€â”€ (public)/            # Ã–ffentliche Seiten
â”‚   â”‚   â”œâ”€â”€ event/[slug]/    # Event-Galerie-Seiten
â”‚   â”‚   â”œâ”€â”€ downloads/[token]/ # Download-Seiten
â”‚   â”‚   â””â”€â”€ search/          # Event & Fotografen-Suche
â”‚   â”œâ”€â”€ [username]/          # Ã–ffentliche Fotografen-Profile
â”‚   â””â”€â”€ api/                 # API Routes
â”‚       â”œâ”€â”€ checkout/        # Stripe Checkout
â”‚       â”œâ”€â”€ stripe/          # Stripe Webhooks & Connect
â”‚       â”œâ”€â”€ photos/          # Foto-Verarbeitung
â”‚       â””â”€â”€ team/            # Team-Verwaltung
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/              # Layout-Komponenten (Header, Footer, etc.)
â”‚   â”œâ”€â”€ settings/            # Settings-Komponenten
â”‚   â”œâ”€â”€ ui/                  # Basis UI-Komponenten
â”‚   â”‚   â”œâ”€â”€ lightbox.tsx     # Foto-Detailansicht
â”‚   â”‚   â”œâ”€â”€ modal.tsx        # Modal-Dialog
â”‚   â”‚   â””â”€â”€ share-button.tsx # Share-FunktionalitÃ¤t
â”‚   â””â”€â”€ ...                  # Feature-spezifische Komponenten
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/            # Supabase Client & Middleware
â”‚   â”œâ”€â”€ stripe/              # Stripe Integration
â”‚   â”œâ”€â”€ aws/                 # AWS Rekognition
â”‚   â”œâ”€â”€ image/               # Bildverarbeitung (Watermark)
â”‚   â””â”€â”€ utils/               # Helper-Funktionen
â””â”€â”€ supabase/
    â”œâ”€â”€ migrations/          # Datenbank-Migrationen
    â””â”€â”€ functions/           # Edge Functions (optional)
```

---

## ğŸ” Benutzer-Rollen & Permissions

### **Athlete (Standard User)**
- Registrierung ohne Freischaltung
- Event-Suche & Foto-Kauf
- Bestellverwaltung
- Selfie-Upload fÃ¼r Gesichtserkennung

### **Photographer (Individual)**
- Registrierung mit automatischer Freischaltung
- Event-Management (unbegrenzt)
- Foto-Upload & Verkauf
- Stripe Connect Anbindung
- Verkaufsstatistiken & Analytics
- Ã–ffentliches Profil mit Portfolio

### **Team Account**
- Alle Photographer-Features
- Team-Mitglieder einladen
- Zentrales Team-Profil
- Einheitliches Branding
- Gemeinsame Event-Ãœbersicht

### **Admin**
- Voller Plattform-Zugriff
- Fotografen-Verwaltung
- Plattform-Analytics
- Revenue-Ãœbersicht
- Account-Aktivierung/Sperrung

---

## ğŸ—‚ï¸ Datenbank-Schema

### Haupttabellen

#### `profiles`
Erweiterte User-Profile mit Rollen, Branding und Team-Informationen

#### `events`
Sportevents mit Cover-Image, Preisen, Slug und Metadaten

#### `photos`
Hochgeladene Fotos mit Wasserzeichen-URL, Original-URL, Startnummer, EXIF-Daten und Rotation

#### `purchases`
KÃ¤ufe/Transaktionen mit Stripe-IDs, Status und Download-Tokens

#### `purchase_photos`
VerknÃ¼pfung zwischen KÃ¤ufen und Fotos

#### `gallery_images`
Portfolio-Bilder fÃ¼r Fotografen-Profile (max. 10 pro Fotograf)

#### `team_invitations`
Einladungen fÃ¼r Team-Mitglieder mit Status-Tracking

### Storage Buckets

- **photos**: Event-Fotos (Original + Wasserzeichen)
- **event-covers**: Event-Cover-Bilder
- **avatars**: Profilbilder
- **team-logos**: Team-Logos

---

## ğŸ¨ Key Features im Detail

### ğŸ¤– Automatische Startnummer-Erkennung (OCR)
- AWS Rekognition Integration
- Automatische Extraktion von Zahlen aus Fotos
- Manuelle Korrektur vor Upload mÃ¶glich
- UnterstÃ¼tzt alle gÃ¤ngigen Startnummern-Formate

### ğŸ˜Š Gesichtserkennung (Face Search)
- Upload eines Selfies
- Vergleich mit allen Event-Fotos
- AWS Rekognition Face Matching
- Privacy-First: Selfies werden nicht gespeichert

### ğŸ¨ Dynamische Wasserzeichen
- Automatische Generierung mit Sharp
- Diagonales Muster fÃ¼r Schutz
- Benutzerdefinierter Text (z.B. Fotografenname)
- Optimale Balance zwischen Schutz und Sichtbarkeit

### ğŸ“± Mobile-First Design
- Touch-optimierte UI
- Pinch-to-Zoom in Lightbox
- Safe-Area Support (iOS)
- Responsive Checkout
- Optimierte Input-Felder (16px fÃ¼r iOS)

### ğŸ”„ Bildverwaltung
- Batch-Upload mehrerer Fotos
- Batch-Delete mit BestÃ¤tigung
- Drag & Drop Sortierung
- Bild-Rotation (links/rechts)
- Lazy Loading fÃ¼r Performance

### ğŸ”— QR-Codes & Sharing
- Automatische QR-Code-Generierung fÃ¼r Events
- Web Share API Integration
- Event-Links teilen
- Einzelne Fotos teilen
- Link-Kopie als Fallback

---

## ğŸ“Š Analytics & Reporting

### FÃ¼r Fotografen
- Verkaufsstatistiken mit Charts
- Umsatz-Ãœbersicht
- Verkaufte Fotos pro Event
- Zeitlicher Verlauf
- Bestseller-Events

### FÃ¼r Admins
- Plattform-weite Analytics
- Gesamtumsatz
- Fotografen-Performance
- Transaktions-Historie
- Provisionsverwaltung

---

## ğŸ’° Monetarisierung & Business Model

### Revenue Streams

#### 1. **Plattform-Provision**
- Standard: 15% auf jeden Verkauf
- Transparent im Dashboard sichtbar
- Automatische Abrechnung via Stripe

#### 2. **Premium-Accounts** (ZukÃ¼nftig)
- Team-Accounts mit erweiterten Features
- Priority Support
- Custom Branding
- Higher Storage Limits

#### 3. **B2B-Lizenzen** (ZukÃ¼nftig)
- White-Label-LÃ¶sungen fÃ¼r groÃŸe Events
- Custom Domains
- Enterprise-Support

### Pricing-Beispiele

**Einzelfoto-Verkauf:**
- Fotograf setzt Preis: 10â‚¬
- Plattform-Fee: 1,50â‚¬ (15%)
- Stripe-Fee: ~0,30â‚¬
- Netto an Fotografen: 8,20â‚¬

**Paket (3 Fotos):**
- Fotograf setzt Preis: 25â‚¬
- Plattform-Fee: 3,75â‚¬ (15%)
- Stripe-Fee: ~0,50â‚¬
- Netto an Fotografen: 20,75â‚¬

---

## ğŸš§ Roadmap

### âœ… **Phase 1-7: Foundation & Core Features** (Abgeschlossen)
- [x] Datenbank-Schema & Migrations
- [x] Auth-System mit Rollen
- [x] Fotografen-Dashboard
- [x] Ã–ffentliche Event-Seiten
- [x] Admin-Dashboard
- [x] Stripe Integration
- [x] AWS Rekognition (OCR & Face Search)
- [x] Wasserzeichen-Generierung
- [x] E-Mail-Benachrichtigungen
- [x] Analytics Dashboard
- [x] Team-Accounts
- [x] Fotografen-Profile
- [x] Mobile-Optimierung
- [x] Share-FunktionalitÃ¤t
- [x] Bildverwaltung (Rotation, Batch-Upload/Delete)

### ğŸš€ **Phase 8: Erweiterungen** (In Arbeit)
- [ ] Event-Kalender-Integration
- [ ] Social Sharing Optimization
- [ ] SEO-Optimierung
- [ ] Performance-Monitoring

### ğŸ”® **Phase 9: Premium-Features** (Geplant)
- [ ] Custom Domains fÃ¼r Teams
- [ ] White-Label-LÃ¶sungen
- [ ] Video-Support
- [ ] Live-Event-Updates
- [ ] Mobile App (React Native)
- [ ] Automatische Foto-Tagging mit AI
- [ ] Multi-Currency Support
- [ ] Subscription-Model fÃ¼r Fotografen

---

## ğŸ¤ Entwicklung

### Development Commands

```bash
# Development Server
npm run dev

# Build fÃ¼r Production
npm run build

# Production Server starten
npm start

# Type Checking
npm run type-check

# Linting
npm run lint
```

### Empfohlene Tools
- **VS Code** mit TypeScript/React Extensions
- **Supabase CLI** fÃ¼r lokale Entwicklung
- **Stripe CLI** fÃ¼r Webhook-Testing

---

## ğŸ“„ Weitere Dokumentation

- **[SETUP-GUIDE.md](./SETUP-GUIDE.md)**: Detaillierte Setup-Anleitung
- **[AWS_SETUP.md](./AWS_SETUP.md)**: AWS Rekognition Konfiguration
- **Supabase Migrations**: `src/supabase/migrations/`

---

## ğŸ”’ Security & Compliance

- **HTTPS-only** in Production
- **Row Level Security (RLS)** auf allen Tabellen
- **JWT-basierte Authentifizierung**
- **Stripe PCI-Compliant Checkout**
- **DSGVO-konform**: Siehe `/datenschutz` und `/impressum`
- **Secure Image Storage** mit Supabase
- **Input Validation** auf allen Forms
- **SQL Injection Prevention** via Supabase Client

---

## ğŸ“ Support & Community

FÃ¼r Fragen, Bug-Reports oder Feature-Requests, bitte ein Issue erstellen oder Kontakt aufnehmen.

---

## ğŸ“ Lizenz

Dieses Projekt ist privat und proprietÃ¤r. Alle Rechte vorbehalten.

---

## ğŸ‰ Credits

**Entwickelt mit:**
- [Next.js](https://nextjs.org/)
- [Supabase](https://supabase.com/)
- [Stripe](https://stripe.com/)
- [AWS Rekognition](https://aws.amazon.com/rekognition/)
- [Sharp](https://sharp.pixelplumbing.com/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Resend](https://resend.com/)

---

**Version**: 1.0.0  
**Letztes Update**: Januar 2025
